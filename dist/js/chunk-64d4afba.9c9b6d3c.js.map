{"version":3,"sources":["webpack:///./src/views/user/Calendar.vue?f714","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./src/components/calendar/CalendarTaskList.vue?bb00","webpack:///./src/views/user/Calendar.vue?a1f8","webpack:///./src/components/calendar/CalendarTaskList.vue?0d3f","webpack:///src/components/calendar/CalendarTaskList.vue","webpack:///./src/components/calendar/CalendarTaskList.vue?0fca","webpack:///./src/components/calendar/CalendarTaskList.vue","webpack:///src/views/user/Calendar.vue","webpack:///./src/views/user/Calendar.vue?5a6c","webpack:///./src/views/user/Calendar.vue"],"names":["$","$every","every","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","activeDay","visibleMonth","getMonth","on","$event","setActiveDay","scopedSlots","_u","key","fn","m_back","m_next","proxy","propsSlot","class","phontom","hide","tasks","_l","sliceHide","task","i","style","backgroundColor","color","id","openTaskId","toggleTask","staticRenderFns","open","_s","title","user","img","name","stopPropagation","domProps","additionalInfo","subtitle","directives","rawName","value","subtasks","expression","subTask","_obj","status","performSubTask","changes","includes","startdate","deadline","next","_e","components","ImgUser","vChip","TransitionExpand","data","props","isOpen","default","type","Boolean","Object","mounted","$store","dispatch","usersIdArray","computed","getters","$vnode","users","h","slice","map","allComplite","methods","$emit","scanned","splice","indexOf","push","updateSubTask","completeTask","showModal","enter","element","width","position","visibility","height","getComputedStyle","requestAnimationFrame","component","CalendarBody","CalendarHeader","CalendarTaskList","mixins","Date","tasksDay","getTasksDay","events","filter","watch","date","idTasks","setTasks","isWithinInterval","firstB","LastB","arr"],"mappings":"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","file":"js/chunk-64d4afba.9c9b6d3c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=d8d2a6bc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=d8d2a6bc&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarTaskList.vue?vue&type=style&index=0&id=1a7b8f93&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarTaskList.vue?vue&type=style&index=0&id=1a7b8f93&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"page\"},[_c('h2',{staticClass:\"main-title\"},[_vm._v(\"Календарь\")]),_c('div',{staticClass:\"calendar__wrapper\"},[_c('div',{staticClass:\"calendar__container\"},[_c('article',{staticClass:\"substrate\"},[_c('Calendar-Body',{attrs:{\"activeDay\":_vm.activeDay,\"visibleMonth\":_vm.visibleMonth,\"month\":_vm.getMonth},on:{\"set-day\":function($event){return _vm.setActiveDay($event)}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('Calendar-Header',{attrs:{\"visibleMonth\":_vm.visibleMonth},on:{\"back\":function($event){return _vm.m_back()},\"next\":function($event){return _vm.m_next()}}})]},proxy:true},{key:\"events\",fn:function(propsSlot){return [_c('div',{class:['tasks', { phontom: _vm.hide(propsSlot.tasks) }]},_vm._l((_vm.sliceHide(propsSlot.tasks)),function(task,i){return _c('div',{key:i,staticClass:\"task\",style:({ backgroundColor: task.color })})}),0)]}}])})],1)]),_c('div',{staticClass:\"calendar__tasks\"},[_c('article',{staticClass:\"substrate\"},_vm._l((_vm.getTasksDay),function(task){return _c('Calendar-Task-List',{key:task.id,attrs:{\"isOpen\":task.id === _vm.openTaskId,\"task\":task},on:{\"open\":function($event){return _vm.toggleTask($event)}}})}),1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-list\",style:({ backgroundColor: _vm.task.color }),on:{\"click\":function($event){return _vm.open()}}},[_c('div',{staticClass:\"task-list__row\"},[_c('h3',{staticClass:\"task-list__title\"},[_vm._v(\" \"+_vm._s(_vm.task.title)+\" \")]),_c('div',{class:['task-list__users', { phontom: _vm.hide }]},_vm._l((_vm.sliceHide),function(user,i){return _c('img-user',{key:i,staticClass:\"user-item\",attrs:{\"src\":{ img: user.img, name: user.name },\"className\":\"sm\"}})}),1)]),_c('transition-expand',[(_vm.isOpen)?_c('div',{staticClass:\"task-list__all\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"task-list__subtitle\"},[_c('h3',{staticClass:\"task-list__title\"},[_vm._v(\"Задача:\")]),_c('p',{staticClass:\"task-list__text\",domProps:{\"innerHTML\":_vm._s(_vm.additionalInfo.subtitle)}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.additionalInfo.subtasks.length),expression:\"additionalInfo.subtasks.length\"}]},[_c('h3',{staticClass:\"task-list__title\"},[_vm._v(\"Структура выполнения:\")]),_c('ul',{staticClass:\"subtasks\"},_vm._l((_vm.additionalInfo.subtasks),function(subTask){\nvar _obj;\nreturn _c('li',{key:subTask.id},[(!subTask.status)?_c('div',{staticClass:\"subtasks__item\",on:{\"click\":function($event){return _vm.performSubTask(subTask.id)}}},[_c('div',{staticClass:\"circle uncom\"},[_c('i',{class:( _obj = {}, _obj['icon-check'] = _vm.changes.includes(subTask.id), _obj )})]),_c('p',{staticClass:\"task-list__text\"},[_vm._v(_vm._s(subTask.title))])]):_c('div',{staticClass:\"subtasks__item\"},[_c('div',{staticClass:\"circle com\"},[_c('i',{staticClass:\"icon-check\"})]),_c('p',{staticClass:\"task-list__text\"},[_vm._v(_vm._s(subTask.title))])])])}),0)]),_c('div',{staticClass:\"task-list__executors\"},[_c('h3',{staticClass:\"task-list__title\"},[_vm._v(\"Исполнительный состав:\")]),_vm._l((_vm.users),function(user,i){return _c('v-chip',{key:i,attrs:{\"user\":user}})}),_c('v-chip',{attrs:{\"user\":_vm.user}})],2),_c('div',{staticClass:\"task-list__date\"},[_c('h3',{staticClass:\"task-list__title\"},[_vm._v(\" Дата начала: \"),_c('div',{staticClass:\"task-list__text\"},[_vm._v(_vm._s(_vm.task.startdate)+\".\")])]),_c('h3',{staticClass:\"task-list__title\"},[_vm._v(\" Дата окончания: \"),_c('div',{staticClass:\"task-list__text\"},[_vm._v(_vm._s(_vm.task.deadline)+\".\")])])]),_c('div',{staticClass:\"button-left\"},[(_vm.allComplite)?_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\" Выполнить задачу \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":!_vm.changes.length},on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\" Принять изменения \")])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    :style=\"{ backgroundColor: task.color }\"\r\n    @click=\"open()\"\r\n    class=\"task-list\"\r\n  >\r\n    <div class=\"task-list__row\">\r\n      <h3 class=\"task-list__title\">\r\n        {{ task.title }}\r\n      </h3>\r\n      <div :class=\"['task-list__users', { phontom: hide }]\">\r\n        <img-user\r\n          v-for=\"(user, i) in sliceHide\"\r\n          :src=\"{ img: user.img, name: user.name }\"\r\n          :key=\"i\"\r\n          className=\"sm\"\r\n          class=\"user-item\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <transition-expand>\r\n      <div v-if=\"isOpen\" @click.stop=\"\" class=\"task-list__all\">\r\n        <div class=\"task-list__subtitle\">\r\n          <h3 class=\"task-list__title\">Задача:</h3>\r\n          <p class=\"task-list__text\" v-html=\"additionalInfo.subtitle\"></p>\r\n        </div>\r\n        <div v-show=\"additionalInfo.subtasks.length\">\r\n          <h3 class=\"task-list__title\">Структура выполнения:</h3>\r\n          <ul class=\"subtasks\">\r\n            <li v-for=\"subTask in additionalInfo.subtasks\" :key=\"subTask.id\">\r\n              <div\r\n                v-if=\"!subTask.status\"\r\n                @click=\"performSubTask(subTask.id)\"\r\n                class=\"subtasks__item\"\r\n              >\r\n                <div class=\"circle uncom\">\r\n                  <i\r\n                    :class=\"{ ['icon-check']: changes.includes(subTask.id) }\"\r\n                  ></i>\r\n                </div>\r\n                <p class=\"task-list__text\">{{ subTask.title }}</p>\r\n              </div>\r\n              <div v-else class=\"subtasks__item\">\r\n                <div class=\"circle com\"><i class=\"icon-check\"></i></div>\r\n                <p class=\"task-list__text\">{{ subTask.title }}</p>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"task-list__executors\">\r\n          <h3 class=\"task-list__title\">Исполнительный состав:</h3>\r\n          <v-chip v-for=\"(user, i) in users\" :key=\"i\" :user=\"user\" />\r\n          <v-chip :user=\"user\" />\r\n        </div>\r\n        <div class=\"task-list__date\">\r\n          <h3 class=\"task-list__title\">\r\n            Дата начала:\r\n            <div class=\"task-list__text\">{{ task.startdate }}.</div>\r\n          </h3>\r\n          <h3 class=\"task-list__title\">\r\n            Дата окончания:\r\n            <div class=\"task-list__text\">{{ task.deadline }}.</div>\r\n          </h3>\r\n        </div>\r\n        <div class=\"button-left\">\r\n          <button v-if=\"allComplite\" @click=\"next()\" class=\"btn btn-primary\">\r\n            Выполнить задачу\r\n          </button>\r\n          <button\r\n            v-else\r\n            class=\"btn btn-primary\"\r\n            @click=\"next()\"\r\n            :disabled=\"!changes.length\"\r\n          >\r\n            Принять изменения\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </transition-expand>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TransitionExpand from \"../transition-expand.vue\";\r\nimport ImgUser from \"@/components/ImgUser.vue\";\r\nimport vChip from \"@/components/chips\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    ImgUser,\r\n    vChip,\r\n    TransitionExpand\r\n  },\r\n  data() {\r\n    return {\r\n      changes: []\r\n    };\r\n  },\r\n  props: {\r\n    isOpen: {\r\n      default: false,\r\n      type: Boolean\r\n    },\r\n    task: {\r\n      default: () => {},\r\n      type: Object\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.dispatch(\"users/thereAreUsers\", this.usersIdArray);\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"user\", { user: \"getUserHeaderInfo\" }),\r\n    additionalInfo() {\r\n      return this.$store.getters[\"tasks/getFindAdditional\"](this.$vnode.key);\r\n    },\r\n    users() {\r\n      let h = this.$store.getters[\"users/findUserId\"](this.usersIdArray);\r\n      return h;\r\n    },\r\n    sliceHide() {\r\n      if (this.users.length) return this.users.slice(0, 3);\r\n      return null;\r\n    },\r\n    hide() {\r\n      return this.users && this.users.length >= 4;\r\n    },\r\n    usersIdArray() {\r\n      return this.task.users.map(i => i.id);\r\n    },\r\n    allComplite() {\r\n      if (this.additionalInfo.subtasks) {\r\n        return this.additionalInfo.subtasks.every(task => task.status);\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  methods: {\r\n    open() {\r\n      this.$emit(\"open\", this.$vnode.key);\r\n      if (!this.task.scanned)\r\n        this.$store.dispatch(\"tasks/viewedTask\", this.$vnode.key);\r\n    },\r\n    performSubTask(id) {\r\n      if (!this.changes.includes(id)) {\r\n        this.changes.push(id);\r\n        return;\r\n      }\r\n      this.changes.splice(this.changes.indexOf(id), 1);\r\n    },\r\n    updateSubTask() {\r\n      this.$store.dispatch(\"tasks/updateSubTask\", this.changes);\r\n      this.changes = [];\r\n    },\r\n    completeTask() {\r\n      this.$store.dispatch(\"tasks/completeTask\", this.$vnode.key);\r\n    },\r\n    next() {\r\n      if (!this.changes.length) {\r\n        this.completeTask();\r\n      } else {\r\n        this.updateSubTask();\r\n      }\r\n      this.showModal = false;\r\n    },\r\n    enter(element) {\r\n      const width = getComputedStyle(element).width;\r\n      element.style.width = width;\r\n      element.style.position = \"absolute\";\r\n      element.style.visibility = \"hidden\";\r\n      element.style.height = \"auto\";\r\n      const height = getComputedStyle(element).height;\r\n      element.style.width = null;\r\n      element.style.position = null;\r\n      element.style.visibility = null;\r\n      element.style.height = 0;\r\n      getComputedStyle(element).height;\r\n      requestAnimationFrame(() => {\r\n        element.style.height = height;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.task-list {\r\n  margin: 10px 0;\r\n  padding: 10px 8px;\r\n  border-radius: 10px;\r\n  color: #fff;\r\n  // .task-list__row\r\n  &__row {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  // .task-list__title\r\n  &__title {\r\n    font-size: 1.4rem;\r\n    word-break: break-all;\r\n  }\r\n  // .task-list__all\r\n  &__all {\r\n    margin-top: 20px;\r\n  }\r\n  // .task-list__users\r\n  &__users {\r\n    display: flex;\r\n    position: relative;\r\n  }\r\n  //.task-list__subtitle\r\n  // .tas-listk__date\r\n  &__subtitle,\r\n  &__date,\r\n  &__executors {\r\n    margin-bottom: 10px;\r\n    & .task__title {\r\n      margin-bottom: 5px;\r\n    }\r\n  }\r\n  &__executors {\r\n    .chip {\r\n      box-shadow: 0px 4px 4px 1px rgba(0, 0, 0, 0.21);\r\n      margin-top: 8px;\r\n    }\r\n  }\r\n  // .task-list__text\r\n  &__text {\r\n    font-size: 1.2rem;\r\n    word-break: break-all;\r\n  }\r\n}\r\n.user-item {\r\n  margin: 0 3px;\r\n}\r\n.subtasks {\r\n  max-height: 350px;\r\n  overflow: auto;\r\n  margin-top: 10px;\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: rgb(63, 63, 63);\r\n    border-radius: 5px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: rgb(47, 47, 47);\r\n  }\r\n  // .subtasks__item\r\n  & .task-list__title {\r\n    margin-bottom: 5px;\r\n  }\r\n  &__item {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n    margin: 10px 0;\r\n    font-size: 1.2rem;\r\n    cursor: pointer;\r\n    & .task-list__text {\r\n      margin: 0 0 0 15px;\r\n      margin-left: 39px;\r\n    }\r\n  }\r\n}\r\n.circle {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 31px;\r\n  &.com {\r\n    background-color: $blue;\r\n    color: #fff;\r\n    position: absolute;\r\n    left: 0;\r\n    font-size: 0.8rem;\r\n  }\r\n  &.uncom {\r\n    border: 2px solid #fff;\r\n    color: #fff;\r\n    position: absolute;\r\n    left: 0;\r\n    font-size: 0.8rem;\r\n  }\r\n  &.border {\r\n    border: 1px solid $blue;\r\n    color: $blue;\r\n  }\r\n}\r\n.phontom::after {\r\n  content: \"+\";\r\n  font-size: 1.8rem;\r\n  position: absolute;\r\n  top: -18px;\r\n  right: -4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarTaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarTaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarTaskList.vue?vue&type=template&id=1a7b8f93&scoped=true&\"\nimport script from \"./CalendarTaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarTaskList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarTaskList.vue?vue&type=style&index=0&id=1a7b8f93&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a7b8f93\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section class=\"page\">\r\n    <h2 class=\"main-title\">Календарь</h2>\r\n    <div class=\"calendar__wrapper\">\r\n      <div class=\"calendar__container\">\r\n        <article class=\"substrate\">\r\n          <Calendar-Body\r\n            :activeDay=\"activeDay\"\r\n            :visibleMonth=\"visibleMonth\"\r\n            :month=\"getMonth\"\r\n            @set-day=\"setActiveDay($event)\"\r\n          >\r\n            <template #header>\r\n              <Calendar-Header\r\n                :visibleMonth=\"visibleMonth\"\r\n                @back=\"m_back()\"\r\n                @next=\"m_next()\"\r\n              />\r\n            </template>\r\n            <template #events=\"propsSlot\">\r\n              <div :class=\"['tasks', { phontom: hide(propsSlot.tasks) }]\">\r\n                <div\r\n                  v-for=\"(task, i) in sliceHide(propsSlot.tasks)\"\r\n                  :key=\"i\"\r\n                  :style=\"{ backgroundColor: task.color }\"\r\n                  class=\"task\"\r\n                ></div>\r\n              </div>\r\n            </template>\r\n          </Calendar-Body>\r\n        </article>\r\n      </div>\r\n      <div class=\"calendar__tasks\">\r\n        <article class=\"substrate\">\r\n          <Calendar-Task-List\r\n            v-for=\"task in getTasksDay\"\r\n            :key=\"task.id\"\r\n            :isOpen=\"task.id === openTaskId\"\r\n            :task=\"task\"\r\n            @open=\"toggleTask($event)\"\r\n          />\r\n        </article>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport CalendarTaskList from \"@/components/calendar/CalendarTaskList.vue\";\r\nimport CalendarHeader from \"@/components/calendar/CalendarHeader.vue\";\r\nimport CalendarBody from \"@/components/calendar/СalendarBody\";\r\nimport CalendarRouter from \"@/plugins/mixins/calendar-router\";\r\nimport { Month } from \"@/components/calendar/CreateCalendar\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    CalendarBody,\r\n    CalendarHeader,\r\n    CalendarTaskList\r\n  },\r\n  mixins: [CalendarRouter],\r\n\r\n  data() {\r\n    return {\r\n      activeDay: new Date(),\r\n      visibleMonth: new Date(),\r\n      tasksDay: [],\r\n      openTaskId: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"tasks\", { events: \"getTasks\" }),\r\n\r\n    getMonth() {\r\n      return Month.createMonth(this.visibleMonth)\r\n        .setTasks(this.events)\r\n        .getMonth();\r\n    },\r\n\r\n    getTasksDay() {\r\n      return this.events.filter(task => {\r\n        return this.isWithinInterval(task.startdate, task.deadline);\r\n      });\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    getTasksDay(newValue) {\r\n      this.$store.dispatch(\r\n        \"tasks/thereAreTaskInfo\",\r\n        newValue.map(i => i.id)\r\n      );\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    setActiveDay(date) {\r\n      this.activeDay = date;\r\n    },\r\n\r\n    toggleTask(idTasks) {\r\n      this.openTaskId == idTasks\r\n        ? (this.openTaskId = \"\")\r\n        : (this.openTaskId = idTasks);\r\n    },\r\n\r\n    setTasks(id) {\r\n      this.tasksDay = id;\r\n    },\r\n\r\n    isWithinInterval(startdate, deadline) {\r\n      let stD = new Date(startdate).setHours(0, 0, 0, 0);\r\n      let dlD = new Date(deadline).setHours(0, 0, 0, 0);\r\n      let firstB = stD <= this.activeDay;\r\n      let LastB = this.activeDay <= dlD;\r\n      return firstB && LastB;\r\n    },\r\n\r\n    sliceHide(arr) {\r\n      if (arr) return arr.slice(0, 3);\r\n      return null;\r\n    },\r\n\r\n    hide(tasks) {\r\n      return tasks && tasks.length > 4;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.calendar {\r\n  &__wrapper {\r\n    display: flex;\r\n  }\r\n  &__container {\r\n    margin-right: 20px;\r\n    flex: 1;\r\n  }\r\n  &__tasks {\r\n    flex: 0 0 40%;\r\n    max-width: 490px;\r\n    & .substrate {\r\n      height: 100%;\r\n    }\r\n  }\r\n  @include _768 {\r\n    &__wrapper {\r\n      flex-direction: column;\r\n    }\r\n    &__tasks {\r\n      margin-top: 20px;\r\n      max-width: inherit;\r\n    }\r\n    &__container {\r\n      margin-right: 0px;\r\n    }\r\n  }\r\n}\r\n.calendar-wrapper {\r\n  display: flex;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=d8d2a6bc&scoped=true&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&id=d8d2a6bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8d2a6bc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}